<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Navigation2 파라메터 정보 &mdash; ExaRobot 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Modules" href="../apis.html" />
    <link rel="prev" title="ROS2 패키지" href="sw2.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ExaRobot
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Develop Environment:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop_env/env.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop_env/jetson_install1.html">Jetson 시스템 설치 (Jetpack 4.6)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop_env/jetson_install2.html">Jetson 시스템 설치 (Jetpack 5.0.2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ros.html">ROS2 사용 패키지 환경 설정</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Python S/W 환경 설정</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ROS2 기반 서비스 로봇 소프트웨어:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="abstract.html">개요</a></li>
<li class="toctree-l1"><a class="reference internal" href="sw1.html">설계</a></li>
<li class="toctree-l1"><a class="reference internal" href="sw2.html">ROS2 패키지</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Navigation2 파라메터 정보</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example">example</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apis.html">Modules</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ExaRobot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Navigation2 파라메터 정보</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/software/ros_nav2_param.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="navigation2">
<h1>Navigation2 파라메터 정보<a class="headerlink" href="#navigation2" title="Permalink to this heading"></a></h1>
<ul>
<li><p>teb local planner 파라미터</p>
<ul class="simple">
<li><p>파라미터 설정 참고 링크</p>
<ul>
<li><p><a class="reference external" href="https://mowito-navstack.readthedocs.io/en/latest/step_5c.html">https://mowito-navstack.readthedocs.io/en/latest/step_5c.html</a></p></li>
<li><p><a class="reference external" href="https://docs.ros.org/en/melodic/api/teb_local_planner/html/classteb__local__planner_1_1TebConfig.html">https://docs.ros.org/en/melodic/api/teb_local_planner/html/classteb__local__planner_1_1TebConfig.html</a></p></li>
<li><p><a class="reference external" href="https://github.com/IntelligentRoboticsLabs/marathon_ros2/blob/master/marathon_ros2_bringup/params/nav2_marathon_teb_tiago_params.yaml">https://github.com/IntelligentRoboticsLabs/marathon_ros2/blob/master/marathon_ros2_bringup/params/nav2_marathon_teb_tiago_params.yaml</a></p></li>
<li><p><a class="reference external" href="https://github.com/wookbin/TETRA-DS5/blob/master/tetraDS_2dnav/config/teb_local_planner_params.yaml">https://github.com/wookbin/TETRA-DS5/blob/master/tetraDS_2dnav/config/teb_local_planner_params.yaml</a></p></li>
</ul>
</li>
<li><p>nav2 스택의 controller_server 에서 teb local planner가 사용되며 관련 파라미터는 아래와 표와같다.</p></li>
</ul>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-center head"><p>종류</p></th>
<th class="text-left head"><p>설명</p></th>
<th class="text-left head"><p>관련 파라미터</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>컨트롤 주기</p></td>
<td class="text-left"><p>10.0[Hz]</p></td>
<td class="text-left"><p>controller_frequency</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>도착 목표 오차</p></td>
<td class="text-left"><p>xy: 0.25[m] <br> yaw: 0.25[rad]</p></td>
<td class="text-left"><p>xy_goal_tolerance: 0.25 <br>yaw_goal_tolerance: 0.25</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>로봇 kinematics</p></td>
<td class="text-left"><p>최대 속도: 0.5[m/s] <br> 최대 각속도: 0.4[rad/s] <br> 가속도: 2.0[m/s] <br> 가각속도: 2.0[rad/s]<br> 로못 모델: 타입-원형, 반지름-0.32[m]</p></td>
<td class="text-left"><p>max_vel_x: 0.5<br>max_vel_x_backwards: 0.0<br>max_vel_theta: 0.4<br>acc_lim_x: 2.0<br>acc_lim_theta: 2.0<br> footprint_model.type: “circular”<br> footprint_model.radius: 0.32</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>장애물 관련</p></td>
<td class="text-left"><p>최소 장애물 이격 거리:0.25[m]<br>장애물 인퓰레이션 거리:0.30[m]</p></td>
<td class="text-left"><p>min_obstacle_dist: 0.25 <br> inflation_dist: 0.30</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>CostMap(Global, Local)</p>
<ul>
<li><p>센서 및 맵 정보를 활용한 코스트 맵의 파라미터이다.</p></li>
<li><p>Local &amp; Global Costmap</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-center head"><p>종류</p></th>
<th class="text-left head"><p>설명</p></th>
<th class="text-left head"><p>관련 파라미터</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>동작 주기</p></td>
<td class="text-left"><p>업데이트: 10.0Hz <br> 발행: 10.0Hz</p></td>
<td class="text-left"><p>update_frequency: 10.0<br>publish_frequency: 10.0</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>맵 크기</p></td>
<td class="text-left"><p>15mx15m</p></td>
<td class="text-left"><p>width: 15 <br>  height: 15</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>해상도</p></td>
<td class="text-left"><p>0.03[m]</p></td>
<td class="text-left"><p>resolution: 0.03</p></td>
</tr>
</tbody>
</table>
<ul>
<li><p>obstacle_layer</p>
<ul class="simple">
<li><p>라이다를 사용한 장애물 감지 레이어</p></li>
</ul>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-center head"><p>종류</p></th>
<th class="text-left head"><p>설명</p></th>
<th class="text-left head"><p>관련 파라미터</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>관찰 데이터 소스</p></td>
<td class="text-left"><p>토픽: /scan (라이다 스캔 정보)</p></td>
<td class="text-left"><p>topic: /scan</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>장애물 인식</p></td>
<td class="text-left"><p>최대 거리: 15.0[m] <br> 최소 거리: 0.0[m]</p></td>
<td class="text-left"><p>obstacle_max_range: 15.0 <br> obstacle_min_range: 0.0</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>raytrace</p></td>
<td class="text-left"><p>최대 거리: 15.5[m] <br> 최소 거리: 0.0[m]</p></td>
<td class="text-left"><p>raytrace_max_range: 15.0 <br> raytrace_min_range: 0.0</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>stvl_layer</p>
<ul class="simple">
<li><p>realsense RGBD 카메라 포인트 클라우드 사용 장애물 감지 레이어</p></li>
<li><p><a class="reference external" href="https://github.com/SteveMacenski/spatio_temporal_voxel_layer">https://github.com/SteveMacenski/spatio_temporal_voxel_layer</a></p></li>
</ul>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-center head"><p>종류</p></th>
<th class="text-left head"><p>설명</p></th>
<th class="text-left head"><p>관련 파라미터</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>복셀 설정</p></td>
<td class="text-left"><p>decay: 1. [sec] <br> model: 0 (0=linear, 1=exponential, -1=persistent) <br> size: 0.01[m] <br> 최소 인정 복셀 군집: 0[갯수], (z 축기준 최소 0개 이상의 복셀이 있을때 장애물로 인식)</p></td>
<td class="text-left"><p>voxel_decay: 1. <br> decay_model: 0  <br>voxel_size: 0.01  <br>mark_threshold: 0</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>관찰 데이터 소스</p></td>
<td class="text-left"><p>토픽: /camera_front_down/depth/color/points (Realsense)</p></td>
<td class="text-left"><p>topic: /camera_front_down/depth/color/points</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>장애물 인식</p></td>
<td class="text-left"><p>인식 거리: 3.0[m] <br> 최소 인식 높이: 0.05[m] <br> 최대 인식 높이: 0.8[m]</p></td>
<td class="text-left"><p>obstacle_range: 3.0 <br> min_obstacle_height: 0.05 <br> max_obstacle_height: 0.8</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>기타</p></td>
<td class="text-left"><p>복셀 인정 최소 point 군집: 3[개수] (최소 pointcloud 3개 이상 군집 되어있어야 1개 의 복셀로 인정) <br> FOV(수평/수직): 0.8745[rad] / 1.048[rad]<br> decay 가속값: 10.0 (0 보다 커야한다.)</p></td>
<td class="text-left"><p>vertical_fov_angle: 0.8745 <br> horizontal_fov_angle: 1.048 <br> decay_acceleration: 10.</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>inflation_layer</p>
<ul class="simple">
<li><p><a class="reference external" href="http://wiki.ros.org/costmap_2d/hydro/inflation">http://wiki.ros.org/costmap_2d/hydro/inflation</a></p></li>
<li><p>inflation_radius: 1.75[m]</p>
<ul>
<li><p>장애물 주변으로 생성될 코스트의 거리(반지름)</p></li>
</ul>
</li>
<li><p>cost_scaling_factor: 3.58</p>
<ul>
<li><p>높아질수록 장애물 주변 inflation 코스트가 감소</p></li>
<li><p>더 장애물에 가깝게 진행하고 싶다면 값이 커야한다.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>static_layer</p>
<ul class="simple">
<li><p>Map 정보를 사용한 장애물 감지 레이어</p></li>
<li><p>별도 설정 없이 레이어만 선안하여 default 값 사용</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section" id="example">
<h2>example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bt_navigator:
  ros__parameters:
    use_sim_time: <span class="nb">true</span>
    global_frame: map
    robot_base_frame: base_footprint
    transform_tolerance: <span class="m">0</span>.5
    default_nav_through_poses_bt_xml: <span class="s2">&quot;/home/nvidia/robot/exa/ros_ws/src/ExaRobot_ROS2/exa_robot/config/navigate_through_poses_w_replanning_and_recovery.xml&quot;</span>
    default_nav_to_pose_bt_xml: <span class="s2">&quot;/home/nvidia/robot/exa/ros_ws/src/ExaRobot_ROS2/exa_robot/config/navigate_to_pose_w_replanning_and_recovery.xml&quot;</span>
    <span class="c1">#default_nav_to_pose_bt_xml: &quot;/home/nvidia/robot/exa/ros_ws/src/ExaRobot_ROS2/exa_robot/config/navigate_follow_point.xml&quot;</span>

    goal_blackboard_id: goal
    goals_blackboard_id: goals
    path_blackboard_id: path
    plugin_lib_names:
    <span class="c1">#action</span>
    - nav2_back_up_action_bt_node
    - nav2_clear_costmap_service_bt_node
    - nav2_compute_path_through_poses_action_bt_node
    - nav2_compute_path_to_pose_action_bt_node
    - nav2_controller_selector_bt_node
    - nav2_follow_path_action_bt_node
    - nav2_goal_checker_selector_bt_node
    - nav2_navigate_through_poses_action_bt_node
    - nav2_navigate_to_pose_action_bt_node
    - nav2_planner_selector_bt_node
    - nav2_reinitialize_global_localization_service_bt_node
    - nav2_remove_passed_goals_action_bt_node
    - nav2_spin_action_bt_node
    - nav2_truncate_path_action_bt_node
    - nav2_wait_action_bt_node
    <span class="c1">#condition</span>
    - nav2_distance_traveled_condition_bt_node
    - nav2_goal_reached_condition_bt_node
    - nav2_goal_updated_condition_bt_node
    - nav2_initial_pose_received_condition_bt_node
    - nav2_is_battery_low_condition_bt_node
    - nav2_is_stuck_condition_bt_node
    - nav2_time_expired_condition_bt_node
    - nav2_transform_available_condition_bt_node
    <span class="c1">#control</span>
    - nav2_pipeline_sequence_bt_node
    - nav2_recovery_node_bt_node
    - nav2_round_robin_node_bt_node
    <span class="c1">#decorator</span>
    - nav2_distance_controller_bt_node
    - nav2_goal_updater_node_bt_node
    - nav2_rate_controller_bt_node
    - nav2_single_trigger_bt_node
    - nav2_speed_controller_bt_node

bt_navigator_rclcpp_node:
  ros__parameters:
    use_sim_time: True


controller_server:
  ros__parameters:
    odom_topic: /odom
    use_sim_time: True
    controller_frequency: <span class="m">10</span>.0
    controller_plugin_types: <span class="o">[</span><span class="s2">&quot;teb_local_planner::TebLocalPlannerROS&quot;</span><span class="o">]</span>
    controller_plugins: <span class="o">[</span><span class="s2">&quot;FollowPath&quot;</span><span class="o">]</span>
    FollowPath:
      plugin: <span class="s2">&quot;teb_local_planner::TebLocalPlannerROS&quot;</span>

      teb_autosize: <span class="m">1</span>.0
      dt_ref: <span class="m">0</span>.3
      dt_hysteresis: <span class="m">0</span>.03 <span class="c1">#0.1</span>
      max_samples: <span class="m">50</span> <span class="c1">#500</span>
      global_plan_overwrite_orientation: True <span class="c1">#False</span>
      allow_init_with_backwards_motion: False
      max_global_plan_lookahead_dist: <span class="m">5</span>.0 <span class="c1">#3.0</span>
      global_plan_viapoint_sep: <span class="m">1</span>.0 <span class="c1">#0.3</span>
      global_plan_prune_distance: <span class="m">1</span>.0
      exact_arc_length: False
      feasibility_check_no_poses: <span class="m">3</span> <span class="c1">#2</span>
      publish_feedback: False
          
      <span class="c1"># Robot</span>
      max_vel_x: <span class="m">0</span>.5
      max_vel_x_backwards: <span class="m">0</span>.0
      max_vel_theta: <span class="m">0</span>.4
      acc_lim_x: <span class="m">2</span>.0
      acc_lim_theta: <span class="m">2</span>.0

      footprint_model: <span class="c1"># types: &quot;point&quot;, &quot;circular&quot;, &quot;two_circles&quot;, &quot;line&quot;, &quot;polygon&quot;</span>
        type: <span class="s2">&quot;circular&quot;</span>
        <span class="c1"># types: &quot;polygon&quot;</span>
        radius: <span class="m">0</span>.32 <span class="c1"># for type &quot;circular&quot;</span>
        <span class="c1"># vertices: [[0.202,0.245], [-0.439,0.245], [-0.439,-0.245], [0.202,-0.245]]</span>
 
      <span class="c1"># GoalTolerance</span>
      xy_goal_tolerance: <span class="m">0</span>.25
      yaw_goal_tolerance: <span class="m">0</span>.25  
      free_goal_vel: False
          
      <span class="c1"># Obstacles</span>
          
      min_obstacle_dist: <span class="m">0</span>.32 <span class="c1">#0.44 #0.27</span>
      inflation_dist: <span class="m">0</span>.30 <span class="c1">#0.5 #0.6</span>
      include_costmap_obstacles: True
      costmap_obstacles_behind_robot_dist: <span class="m">1</span>.5 <span class="c1">#1.0</span>
      obstacle_poses_affected: <span class="m">30</span> <span class="c1">#15</span>

      dynamic_obstacle_inflation_dist: <span class="m">0</span>.2 <span class="c1">#0.4 #0.6</span>
      include_dynamic_obstacles: False <span class="c1">#True </span>

      costmap_converter_plugin: <span class="s2">&quot;costmap_converter::CostmapToPolygonsDBSMCCH&quot;</span>
      costmap_converter_spin_thread: True
      costmap_converter_rate: <span class="m">5</span>

      <span class="c1"># Optimization</span>
          
      no_inner_iterations: <span class="m">5</span>
      no_outer_iterations: <span class="m">4</span>
      optimization_activate: True
      optimization_verbose: False
      penalty_epsilon: <span class="m">0</span>.04 <span class="c1">#0.1</span>
      obstacle_cost_exponent: <span class="m">4</span>.0
      weight_max_vel_x: <span class="m">1</span>.0 <span class="c1">#0.5</span>
      weight_max_vel_theta: <span class="m">1</span>.0 <span class="c1">#0.5</span>
      weight_acc_lim_x:  <span class="m">0</span>.0 <span class="c1">#0.5</span>
      weight_acc_lim_theta: <span class="m">0</span>.0 <span class="c1">#10.5</span>
      weight_kinematics_nh: <span class="m">1000</span>.0
      weight_kinematics_forward_drive: <span class="m">1000</span>.0 <span class="c1">#3.0</span>
      weight_kinematics_turning_radius: <span class="m">1</span>.0
      weight_optimaltime: <span class="m">1</span>.0 <span class="c1"># must be &gt; 0</span>
      weight_shortest_path: <span class="m">0</span>.0
      weight_obstacle: <span class="m">10</span>.0 <span class="c1">#100.0</span>
      weight_inflation: <span class="m">0</span>.2
      weight_dynamic_obstacle: <span class="m">10</span>.0 <span class="c1"># not in use yet</span>
      weight_dynamic_obstacle_inflation: <span class="m">0</span>.2
      weight_viapoint: <span class="m">1</span>.0 <span class="c1">#50.0</span>
      weight_adapt_factor: <span class="m">2</span>.0

      <span class="c1"># Homotopy Class Planner</span>

      enable_homotopy_class_planning: <span class="nb">false</span> <span class="c1">#True</span>
      enable_multithreading: True
      max_number_classes: <span class="m">4</span>
      selection_cost_hysteresis: <span class="m">1</span>.0 <span class="c1">#5.0</span>
      selection_prefer_initial_plan: <span class="m">1</span>.0
      selection_obst_cost_scale: <span class="m">1</span>.0
      selection_alternative_time_cost: False <span class="c1">#True</span>

      roadmap_graph_no_samples: <span class="m">15</span>
      roadmap_graph_area_width: <span class="m">5</span>.0
      roadmap_graph_area_length_scale: <span class="m">1</span>.0
      h_signature_prescaler: <span class="m">0</span>.5
      h_signature_threshold: <span class="m">0</span>.1
      obstacle_heading_threshold: <span class="m">0</span>.45
      switching_blocking_period: <span class="m">0</span>.0
      viapoints_all_candidates: True
      delete_detours_backwards: True
      max_ratio_detours_duration_best_duration: <span class="m">3</span>.0
      visualize_hc_graph: False
      visualize_with_time_as_z_axis_scale: <span class="m">0</span>.0

      <span class="c1"># Recovery</span>
      
      shrink_horizon_backup: True
      shrink_horizon_min_duration: <span class="m">10</span>.0
      oscillation_recovery: True
      oscillation_v_eps: <span class="m">0</span>.1
      oscillation_omega_eps: <span class="m">0</span>.1
      oscillation_recovery_min_duration: <span class="m">10</span>.0
      oscillation_filter_duration: <span class="m">10</span>.0
     
controller_server_rclcpp_node:
  ros__parameters:
    use_sim_time: True



local_costmap:
  local_costmap:
    ros__parameters:
      update_frequency: <span class="m">10</span>.0
      publish_frequency: <span class="m">10</span>.0
      global_frame: odom
      robot_base_frame: base_footprint
      use_sim_time: True
      rolling_window: <span class="nb">true</span>
      width: <span class="m">15</span>
      height: <span class="m">15</span>
      resolution: <span class="m">0</span>.03
      robot_radius: <span class="m">0</span>.22
      unknown_cost_value : <span class="m">200</span>
      plugins: <span class="o">[</span>
                <span class="s2">&quot;obstacle_layer&quot;</span>,
                <span class="s2">&quot;stvl_layer&quot;</span>,
                <span class="s2">&quot;inflation_layer&quot;</span>
                <span class="o">]</span>
      <span class="c1"># plugins: [&quot;voxel_layer&quot;,&quot;stvl_layer&quot;,&quot;inflation_layer&quot;]</span>
      <span class="c1"># plugins: [&quot;voxel_layer&quot;, &quot;inflation_layer&quot;]</span>



      obstacle_layer:
        plugin: <span class="s2">&quot;nav2_costmap_2d::ObstacleLayer&quot;</span>
        enabled: <span class="nb">true</span>
        observation_sources: scan
        scan:
          topic: /scan
          max_obstacle_height: <span class="m">2</span>.0
          clearing: True
          marking: True
          data_type: <span class="s2">&quot;LaserScan&quot;</span>
          raytrace_max_range: <span class="m">15</span>.5
          raytrace_min_range: <span class="m">0</span>.0
          obstacle_max_range: <span class="m">15</span>.0
          obstacle_min_range: <span class="m">0</span>.0
     
        
      stvl_layer:
        plugin: <span class="s2">&quot;spatio_temporal_voxel_layer/SpatioTemporalVoxelLayer&quot;</span>
        enabled: <span class="nb">true</span>
        voxel_decay: <span class="m">1</span>.
        decay_model: <span class="m">0</span>
        voxel_size: <span class="m">0</span>.01
        track_unknown_space: <span class="nb">true</span>
        unknown_threshold: <span class="m">15</span>
        mark_threshold: <span class="m">0</span>
        update_footprint_enabled: <span class="nb">true</span>
        combination_method: <span class="m">1</span>
        origin_z: <span class="m">0</span>.0
        publish_voxel_map: <span class="nb">true</span>
        transform_tolerance: <span class="m">0</span>.2
        mapping_mode: <span class="nb">false</span>
        map_save_duration: <span class="m">60</span>.0
        observation_sources: pointcloud clip
        pointcloud:
          data_type: PointCloud2
          topic: /camera_front_down/depth/color/points
          marking: <span class="nb">true</span>
          clearing: <span class="nb">true</span>
          obstacle_range: <span class="m">3</span>.0
          min_obstacle_height: <span class="m">0</span>.05
          max_obstacle_height: <span class="m">0</span>.8
          expected_update_rate: <span class="m">0</span>.0
          observation_persistence: <span class="m">0</span>.0
          inf_is_valid: <span class="nb">false</span>
          voxel_filter: <span class="nb">true</span>
          voxel_min_points: <span class="m">3</span> 
          clear_after_reading: <span class="nb">true</span>
          <span class="c1"># max_z: 2.0</span>
          <span class="c1"># min_z: 0.08</span>
          vertical_fov_angle: <span class="m">0</span>.8745
          horizontal_fov_angle: <span class="m">1</span>.048
          decay_acceleration: <span class="m">30</span>.0
          model_type: <span class="m">0</span>
      clip: 
          data_type: PointCloud2
          topic: /camera_front_down/depth/color/points
          marking: <span class="nb">true</span>
          clearing: <span class="nb">true</span>
          obstacle_range: <span class="m">2</span>.0
          min_obstacle_height: -0.3
          max_obstacle_height: -0.2
          expected_update_rate: <span class="m">0</span>.0
          observation_persistence: <span class="m">0</span>.0
          inf_is_valid: <span class="nb">false</span>
          voxel_filter: <span class="nb">true</span>
          clear_after_reading: <span class="nb">true</span>
          <span class="c1"># max_z: 2.0</span>
          min_z: -0.5
          vertical_fov_angle: <span class="m">0</span>.8745
          horizontal_fov_angle: <span class="m">1</span>.048
          decay_acceleration: <span class="m">1</span>.0
          model_type: <span class="m">0</span>
      inflation_layer:
        plugin: <span class="s2">&quot;nav2_costmap_2d::InflationLayer&quot;</span>
        <span class="c1"># cost_scaling_factor: 3.0</span>
        <span class="c1"># inflation_radius: 0.30</span>
        cost_scaling_factor: <span class="m">3</span>.58 <span class="c1">#2.58</span>
        inflation_radius: <span class="m">1</span>.75 <span class="c1">#1.75</span>

      always_send_full_costmap: True
  local_costmap_client:
    ros__parameters:
      use_sim_time: True
  local_costmap_rclcpp_node:
    ros__parameters:
      use_sim_time: True

global_costmap:
  global_costmap:
    ros__parameters:
      width: <span class="m">10</span>
      height: <span class="m">10</span>
      update_frequency: <span class="m">10</span>.0
      publish_frequency: <span class="m">10</span>.0
      global_frame: map
      robot_base_frame: base_footprint
      use_sim_time: True
      robot_radius: <span class="m">0</span>.22
      resolution: <span class="m">0</span>.05
      track_unknown_space: <span class="nb">true</span>
      unknown_cost_value : <span class="m">200</span>
      plugins: <span class="o">[</span><span class="s2">&quot;static_layer&quot;</span>,
                <span class="s2">&quot;obstacle_layer&quot;</span>,
                <span class="s2">&quot;stvl_layer&quot;</span>, 
                <span class="s2">&quot;inflation_layer&quot;</span><span class="o">]</span>

      obstacle_layer:
        plugin: <span class="s2">&quot;nav2_costmap_2d::ObstacleLayer&quot;</span>
        enabled: True
        observation_sources: scan
        scan:
          topic: /scan
          max_obstacle_height: <span class="m">2</span>.0
          clearing: True
          marking: True
          data_type: <span class="s2">&quot;LaserScan&quot;</span>
          raytrace_max_range: <span class="m">15</span>.5
          raytrace_min_range: <span class="m">0</span>.0
          obstacle_max_range: <span class="m">15</span>.0
          obstacle_min_range: <span class="m">0</span>.0

      stvl_layer:
        plugin: <span class="s2">&quot;spatio_temporal_voxel_layer/SpatioTemporalVoxelLayer&quot;</span>
        enabled: <span class="nb">true</span>
        voxel_decay: <span class="m">1</span>.
        decay_model: <span class="m">0</span>
        voxel_size: <span class="m">0</span>.01
        track_unknown_space: <span class="nb">true</span>
        unknown_threshold: <span class="m">15</span>
        mark_threshold: <span class="m">0</span>
        update_footprint_enabled: <span class="nb">true</span>
        combination_method: <span class="m">1</span>
        origin_z: <span class="m">0</span>.0  
        publish_voxel_map: <span class="nb">true</span>
        transform_tolerance: <span class="m">0</span>.2
        mapping_mode: <span class="nb">false</span>
        map_save_duration: <span class="m">60</span>.0
        observation_sources: pointcloud clip
        pointcloud:
          data_type: PointCloud2
          topic: /camera_front_down/depth/color/points
          marking: <span class="nb">true</span>
          clearing: <span class="nb">true</span>
          obstacle_range: <span class="m">3</span>.0
          min_obstacle_height: <span class="m">0</span>.05
          max_obstacle_height: <span class="m">0</span>.8
          expected_update_rate: <span class="m">0</span>.0
          observation_persistence: <span class="m">0</span>.0
          inf_is_valid: <span class="nb">false</span>
          voxel_filter: <span class="nb">true</span>
          voxel_min_points: <span class="m">3</span>  
          clear_after_reading: <span class="nb">true</span>
          <span class="c1"># max_z: 2.0</span>
          <span class="c1"># min_z: 0.05</span>
          vertical_fov_angle: <span class="m">0</span>.8745
          horizontal_fov_angle: <span class="m">1</span>.048
          decay_acceleration: <span class="m">30</span>.0
          model_type: <span class="m">0</span>
      clip: 
          data_type: PointCloud2
          topic: /camera_front_down/depth/color/points
          marking: <span class="nb">true</span>
          clearing: <span class="nb">true</span>
          obstacle_range: <span class="m">2</span>.0
          min_obstacle_height: -0.3
          max_obstacle_height: -0.2
          expected_update_rate: <span class="m">0</span>.0
          observation_persistence: <span class="m">0</span>.0
          inf_is_valid: <span class="nb">false</span>
          voxel_filter: <span class="nb">true</span>
          clear_after_reading: <span class="nb">true</span>
          <span class="c1"># max_z: 2.0</span>
          min_z: -0.5
          vertical_fov_angle: <span class="m">0</span>.8745
          horizontal_fov_angle: <span class="m">1</span>.048
          decay_acceleration: <span class="m">10</span>.0
          model_type: <span class="m">0</span>
      static_layer:
        plugin: <span class="s2">&quot;nav2_costmap_2d::StaticLayer&quot;</span>
        map_subscribe_transient_local: True
       

      inflation_layer:
        plugin: <span class="s2">&quot;nav2_costmap_2d::InflationLayer&quot;</span>
        <span class="c1"># cost_scaling_factor: 3.0</span>
        <span class="c1"># inflation_radius: 0.30</span>
        cost_scaling_factor: <span class="m">3</span>.58 <span class="c1">#2.58</span>
        inflation_radius: <span class="m">1</span>.75 <span class="c1">#1.75</span>
        inflate_unknown : True

      always_send_full_costmap: True
  global_costmap_client:
    ros__parameters:
      use_sim_time: True
  global_costmap_rclcpp_node:
    ros__parameters:
      use_sim_time: True

map_server:
  ros__parameters:
    use_sim_time: True
    yaml_filename: <span class="s2">&quot;map.yaml&quot;</span>

map_saver:
  ros__parameters:
    use_sim_time: True
    save_map_timeout: <span class="m">5</span>.0
    free_thresh_default: <span class="m">0</span>.25
    occupied_thresh_default: <span class="m">0</span>.65
    map_subscribe_transient_local: True


planner_server:
  ros__parameters:
    expected_planner_frequency: <span class="m">10</span>.0
    use_sim_time: True
    planner_plugins: <span class="o">[</span><span class="s2">&quot;GridBased&quot;</span><span class="o">]</span>
    GridBased:
      plugin: <span class="s2">&quot;nav2_navfn_planner/NavfnPlanner&quot;</span>
      tolerance: <span class="m">0</span>.5
      use_astar: <span class="nb">false</span>
      allow_unknown: <span class="nb">false</span>

planner_server_rclcpp_node:
  ros__parameters:
    use_sim_time: True

recoveries_server:
  ros__parameters:
    costmap_topic: local_costmap/costmap_raw
    footprint_topic: local_costmap/published_footprint
    cycle_frequency: <span class="m">10</span>.0
    recovery_plugins: <span class="o">[</span><span class="s2">&quot;spin&quot;</span>, <span class="s2">&quot;backup&quot;</span>, <span class="s2">&quot;wait&quot;</span><span class="o">]</span>
    spin:
      plugin: <span class="s2">&quot;nav2_recoveries/Spin&quot;</span>
    backup:
      plugin: <span class="s2">&quot;nav2_recoveries/BackUp&quot;</span>
    wait:
      plugin: <span class="s2">&quot;nav2_recoveries/Wait&quot;</span>
    global_frame: odom
    robot_base_frame: base_footprint
    transform_timeout: <span class="m">0</span>.1
    use_sim_time: <span class="nb">true</span>
    simulate_ahead_time: <span class="m">2</span>.0
    max_rotational_vel: <span class="m">1</span>.0
    min_rotational_vel: <span class="m">0</span>.4
    rotational_acc_lim: <span class="m">3</span>.2

robot_state_publisher:
  ros__parameters:
    use_sim_time: True

waypoint_follower:
  ros__parameters:
    loop_rate: <span class="m">20</span>
    stop_on_failure: <span class="nb">false</span>
    waypoint_task_executor_plugin: <span class="s2">&quot;wait_at_waypoint&quot;</span>   
    wait_at_waypoint:
      plugin: <span class="s2">&quot;nav2_waypoint_follower::WaitAtWaypoint&quot;</span>
      enabled: True
      waypoint_pause_duration: <span class="m">200</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sw2.html" class="btn btn-neutral float-left" title="ROS2 패키지" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../apis.html" class="btn btn-neutral float-right" title="Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, seyeon.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>